{% extends "base.html.twig" %}

{% block body %}
<h2>Merci pour votre commande</h2>
<div class="alert alert-info">
	<h3>N° de réservation : {{ ticket.code }}</h3>
	<h4>Vos billets ont été envoyés à l'adresse suivante : {{ ticket.email }} </h4>
</div>
<h3>Récapitulatif de vos achats</h3>
<hr>
	<h3>{{ prettyDate }} -
	{{ ticket.nbticket }} billet(s)
		{% if ticket.duration == constant('OC\\BookingBundle\\Entity\\Ticket::DAY') %}
		Journée
		{% else %}
		demi-journée
		{% endif %}
		-
		{{ ticket.amount|number_format(2, '.', '') }} &euro;
	</h3>
	<table class="table" id="visitorsTable">
			<thead>
				<tr>
					<th>Nom</th>
					<th>Prénom</th>
					<th>Pays</th>
					<th>Date de naissance</th>
					<th>Tarif</th>
					<th class="text-right">Montant</th>
					<th>&nbsp;</th>
				</tr>
			</thead>
			<tbody>
				{% for visitor in ticket.visitors %}
				<tr>
					<td>{{ visitor.surname }}</td>
					<td>{{ visitor.name }}</td>
					<td>{{ visitor.country|country }}</td>
					<td>{{ visitor.birthday|date("d/m/Y") }}</td>
					<td>{{ visitor.pricelists.name }}</td>
					<td class="text-right">{{ visitor.amount|number_format(2, '.', '') }} &euro;</td>
					<td>&nbsp;</td>
				</tr>
				{% endfor %}
			</tbody>
			<tfoot>
				<tr>
					<th colspan="5" class="text-right">Total</th>
					<th class="text-right">
						<span id="total">{{ ticket.amount|number_format(2, '.', '') }}</span> &euro;
					</th>
				</tr>
			</tfoot>
	</table>
{% endblock %}